<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<style>
    @import url('https://fonts.googleapis.com/css?family=Gamja+Flower');

    p {
        font-family: 'Gamja Flower', cursive;
        color: purple;
    }
</style>

<template>
    <style >
        p {
            color: purple;
        }
    </style>
    <div id="tplda">
        <p>I'm template content AA!!!</p>
        <content></content>
    </div>
    <div id="tpldb">
        <p>I'm template content BB!!!</p>
        <content></content>
    </div>
</template>

<script>
    /*
    // importDoc references this import's document
    var importDoc = document.currentScript.ownerDocument;

    // mainDoc references the main document (the page that's importing us)
    var mainDoc = document;

    // Grab the first stylesheet from this import, clone it,
    // and append it to the importing document.
    var styles = importDoc.querySelector('link[rel="stylesheet"]');
    mainDoc.head.appendChild(styles.cloneNode(true));
    */

    class PlusserverTest extends HTMLElement {

        constructor() {
            super();
        }

        static get observedAttributes() {
            return ["value"];
        }

        attributeChangedCallback(name, oldValue, newValue) {
            this.value = newValue;

            this._updateRendering();
        }

        connectedCallback() {
            const template = this.ownerDocument.querySelector('template');
            const templContent = template.content;
            const clone = document.importNode(templContent, true); // import template into
            clone.getElementById('tbb').remove();
            //this.appendChild(clone.querySelector('#tba'));

            const shadowRoot = this.attachShadow({mode: 'open'});
            shadowRoot.appendChild(clone);

            this._getData();
        }

        get valueAttribute() {
            return this.getAttribute("value");
        }
        set valueAttribute(value) {
            this.setAttribute("value", value);
        }


        get value() {
            return this._value;
        }
        set value(value) {
            this._value = value;
        }

        _getData() {
            // fetch('https://jsonplaceholder.typicode.com/todos/1')
            //     .then(response => response.json())
            //     .then(json => {
            //         this._updateRendering(json);
            //     });
        }

        _updateRendering() {
            console.log(this.ownerDocument.defaultView);
        }
    }

    customElements.define("plusserver-test", PlusserverTest);
</script>>